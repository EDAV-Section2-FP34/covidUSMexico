# Missing values


```{r setup, include=FALSE}
# this prevents package loading message from appearing in the rendered version of your problem set
knitr::opts_chunk$set(warning = FALSE, message = FALSE,
                      echo = TRUE)
```

Our data consists of macroeconomic and financial information that don't contain missing values, mainly due to the structured nature of such information. To exemplify this, here we implement `visualize_missings` on the inflation data for Mexico from 2019 to 2021, and the US from 2012 to 2021 (monthly frequency).

```{r}
library(dplyr)
library(tidyr)
source("missing_visualization.R")

inflation_mx <- read.csv("Data/COVID_mex.csv", stringsAsFactors = F)
inflation_us <- read.csv("Data/COVID_usa.csv", stringsAsFactors = F)


names(inflation_mx)
c("date","confirmed","deaths", "recovered","tests","vaccines",
  "peop_vacc","peop_f_vac","hosp","icu","vent","population",
  "school_close","workpl_close","cancel_events","gatherings_res",
  "transport_close","stay_home_r","int_move_rest",
  "internat_move_rest", "inf_camp", "test_policy","contact_trace",
  "facial_cover", "vaccin_policy", "elderly_peop_protec", "gover_resp_index", 
[28] "stringency_index"                   
[29] "containment_health_index"           
[30] "economic_support_index"
  )

visualize_missings(inflation_mx)
visualize_missings(inflation_us)

```

Thus, we then proceed to showcase `visualize_missings` on the example dataset:

```{r fig.width=15, fig.height=10, fig.align="center"}

visualize_missings(fivethirtyeight::steak_survey,T)

visualize_missings(fivethirtyeight::steak_survey,F)


```

We can observe that rows without NAs are the most frequent, accounting for around 60% of them. `hhold` and `steak_prep` are the variables with the highest percentage of missing values, having around 20% each.

Also interesting to note is the fact that when there are NAs in `educ`, there are also NAs in `region`, `age` and `female`, indicating that such variables come in batch.

